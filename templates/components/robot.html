<div
    class="w-full h-[500px] md:h-[600px] lg:h-[700px] relative flex flex-col justify-center items-center overflow-visible -mt-8 md:-mt-24">
    <!-- Spotlight Effect -->
    <div class="absolute -top-40 left-0 md:left-60 md:-top-20 pointer-events-none z-[1] w-full h-full">
        <svg class="animate-spotlight w-[150%] h-[150%] lg:w-[100%]" xmlns="http://www.w3.org/2000/svg"
            viewBox="0 0 3787 2842" fill="none">
            <g filter="url(#filter)">
                <ellipse cx="1924.71" cy="273.501" rx="1924.71" ry="273.501"
                    transform="matrix(-0.822377 -0.568943 -0.568943 0.822377 3631.88 2291.09)" fill="white"
                    fill-opacity="0.21"></ellipse>
            </g>
            <defs>
                <filter id="filter" x="0.860352" y="0.838989" width="3785.16" height="2840.26"
                    filterUnits="userSpaceOnUse" color-interpolation-filters="sRGB">
                    <feFlood flood-opacity="0" result="BackgroundImageFix"></feFlood>
                    <feBlend mode="normal" in="SourceGraphic" in2="BackgroundImageFix" result="shape"></feBlend>
                    <feGaussianBlur stdDeviation="151" result="effect1_foregroundBlur_1065_8"></feGaussianBlur>
                </filter>
            </defs>
        </svg>
    </div>

    <!-- Spline 3D Scene -->
    <div class="relative z-10 w-[140%] h-[140%] -ml-[20%] flex items-center justify-center" id="spline-container">
        <!-- 
            Fix Clipping via CSS Zoom:
            1. Container width set to 140% with -20% margin to centering.
            2. Scale down the viewer to 0.75 to pull edges inward.
        -->
        <div class="w-full h-full transform scale-75 origin-center">
            <spline-viewer url="https://prod.spline.design/kZDDjO5HuC9GJUM2/scene.splinecode" loading-anim-type="none"
                background="transparent"></spline-viewer>
        </div>
    </div>
</div>

<style>
    /* Spotlight Animation */
    @keyframes spotlight {
        0% {
            opacity: 0;
            transform: translate(-50%, -50%) scale(0.5);
        }

        100% {
            opacity: 1;
            transform: translate(-50%, -50%) scale(1);
        }
    }

    .animate-spotlight {
        animation: spotlight 2s ease .75s 1 forwards;
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const viewer = document.querySelector('spline-viewer');
        if (viewer) {
            // Aggressive logo removal loop
            const removeLogo = () => {
                const shadow = viewer.shadowRoot;
                if (shadow) {
                    const logo = shadow.querySelector('#logo');
                    if (logo) {
                        logo.remove(); // Physically remove element
                        console.log("Spline logo removed");
                        return true;
                    }
                }
                return false;
            };

            // Observer to watch for shadow DOM population
            const observer = new MutationObserver((mutations) => {
                if (removeLogo()) {
                    // observer.disconnect(); // Keep running in case it re-appears on re-render
                }
            });

            observer.observe(viewer, { childList: true, subtree: true });

            // Backup interval
            const interval = setInterval(() => {
                if (removeLogo()) {
                    clearInterval(interval);
                }
            }, 100);

            // Stop checking after 10 seconds to save resources
            setTimeout(() => clearInterval(interval), 10000);
        }
    });
</script>